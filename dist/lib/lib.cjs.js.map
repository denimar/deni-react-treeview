{"version":3,"file":"lib.cjs.js","sources":["../../node_modules/style-inject/dist/style-inject.es.js","../../src/components/Example/Example.tsx","../../src/components/deni-react-treeview-item/action-buttons/ActionButtons.tsx","../../src/components/deni-react-treeview-item/DeniReactTreeviewItemConsts.ts","../../src/components/deni-react-treeview-item/DeniReactTreeviewItemHelper.tsx","../../src/components/deni-react-treeview-item/DeniReactTreeViewItem.tsx","../../src/components/deni-react-treeview/DeniReactTreeviewApiImpl.ts","../../src/components/deni-react-treeview/DeniReactTreeviewConsts.ts","../../src/components/deni-react-treeview/DeniReactTreeviewHelper.ts","../../src/components/deni-react-treeview/DeniReactTreeView.tsx","../../src/components/deni-react-treeview/DeniReactTreeviewApi.ts"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React from 'react';\nimport classnames from 'classnames';\nimport './example.scss';\n\nexport interface ExampleProps {\n  active?: boolean | undefined;\n  disabled?: boolean | undefined;\n  children?: any;\n  className?: string;\n}\n\nexport class Example extends React.PureComponent<ExampleProps> {\n  public render() {\n    const { active, disabled, className, children, ...rest } = this.props;\n\n    const classes = classnames(\n      'Example',\n      active && `Example--active`,\n      disabled && `Example--disabled`,\n      className\n    );\n\n    return (\n      <button {...rest} className={classes}>\n        {children}\n      </button>\n    );\n  }\n}\n","import React from 'react'\nimport './ActionButtons.scss'\nimport { ActionButtonsProps } from './ActionButtonsProps';\n\nclass ActionButtons extends React.Component<ActionButtonsProps> {\n\n  constructor(props) {\n    super(props)\n  }\n\n  render() {\n\n    const actionButtons: JSX.Element[] = this.props.buttons.map((actionButton, index) => {\n      return (\n        <span\n          key={index}\n          className=\"action-button\"\n          onClick={ this.props.onActionButtonClick ? this.props.onActionButtonClick.bind(this, this.props.item, actionButton) : undefined}\n        >\n          {actionButton}\n        </span>\n      );\n    })\n\n    return (\n      <div className=\"action-buttons-container\">\n        <span className=\"action-buttons-container-text\">{this.props.item.text}</span>\n        {actionButtons}\n      </div>\n    )\n  }\n\n}\n\nexport default ActionButtons;\n","export const  CHECKBOX_STATE = {\n  CHECKED: 1,\n  UNCHECKED: 2,\n  UNDETERMINED: 3\n}\n","import React from 'react'\nimport ActionButtons from \"./action-buttons\";\nimport { CHECKBOX_STATE } from './DeniReactTreeviewItemConsts'\n\nconst isSelected = (treeview, item) => {\n  return treeview.state.selectedItem === item;\n}\n\nconst  getClassItem = (treeview, item, level, selectRow) => {\n    const classNames = ['deni-react-treeview-item-container'];\n\n    classNames.push('unselectable');\n\n    if ((item.root === true) && (treeview.props.showRoot === false)) {\n        classNames.push('hidden');\n    } else {\n        classNames.push(treeview.state.theme);\n        classNames.push('level-' + level);\n\n        if (selectRow) {\n            classNames.push('select-row');\n            if (isSelected(treeview, item)) {\n                classNames.push('selected');\n            }\n        }\n    }\n\n    return classNames.join(' ');\n}\n\nconst getClassIcon = (treeview, item) => {\n  const classNames = ['icon'];\n\n  if (treeview.props.showIcon === false) {\n    classNames.push('hidden');      \n  } else {\n    if ((item.isLeaf) && (!(item.children && item.children.length > 0))) { //when it has children, so is no longer has to be leaf\n        classNames.push('isleaf');\n    }\n\n    if (item.expanded) {\n        classNames.push('expanded');\n    }\n  }\n\n  return classNames.join(' ');\n}\n\nconst getClassExpandButton = (treeview, treeviewItem, item) => {\n  const classNames = ['expand-button'];\n\n  if (((item.children && item.children.length > 0) || (!item.isLeaf && treeview.props.lazyLoad))) {\n      classNames.push('hasChild');\n\n      if (item.expanded) {\n          classNames.push('expanded');\n      } else {\n          classNames.push('colapsed');\n      }\n  }\n\n  if (treeviewItem.state && treeviewItem.state.loading) {\n      classNames.push('loading');\n  }\n\n  if (isSelected(treeview, item)) {\n      classNames.push('selected');\n  }\n\n  return classNames.join(' ');\n}\n\nconst getClassCheckbox = (treeview, item) => {\n  const classNames = ['checkbox'];\n\n  if (treeview.props.showCheckbox) {\n      if (item.state === CHECKBOX_STATE.CHECKED) {\n          classNames.push('checked');\n      } else if (item.state === CHECKBOX_STATE.UNDETERMINED) {\n          classNames.push('undetermined');\n      }\n\n      if (isSelected(treeview, item)) {\n          classNames.push('selected');\n      }\n  } else {\n      classNames.push('hidden');\n  }\n\n  return classNames.join(' ');\n}\n\nconst getClassIconAndText = (treeview, item, selectRow) => {\n  const classNames = ['icon-and-text'];\n\n  if (selectRow) {\n      classNames.push('select-row');\n  }\n\n  if ((!selectRow) && (isSelected(treeview, item))) {\n      classNames.push('selected');\n  }\n\n  return classNames.join(' ');\n}\n\nconst getInnerText = (treeview: any, item: any): JSX.Element => {\n  if (treeview.props.actionButtons) {\n      return (<ActionButtons \n        buttons={treeview.props.actionButtons}       \n        item={item}\n      />)\n  } else {\n      if (treeview.props.onRenderItem) {\n          return treeview.props.onRenderItem(item, treeview);\n      } else {\n          return item.text;\n      }\n  }\n}\n\nconst treeviewItemContainerDoubleClick = (treeviewItemExpandButtonMouseDown, treeview, selectRow, event) => {\n    /*\n  let canContinue = selectRow;\n\n  if (!canContinue) {\n      const target = event.target;\n      canContinue = ((target.classList.contains('icon-and-text')) || (target.classList.contains('icon')) || (target.classList.contains('text-inner')) || (target.classList.contains('text')));\n  }\n\n  if (canContinue) {\n      const item = this.props.item;\n      if (item.isLeaf) {\n          //TODO: Create a event here\n      } else {\n          treeviewItemExpandButtonMouseDown.apply(this, [treeview, item]);\n      }\n  }\n  */\n}\n\nconst treeviewItemContainerMouseDown = (treeview, item, selectRow, event) => {\n    debugger\n  if (treeview.state.selectedItem !== item) {\n      const target = event.target;\n      const finishRoutine = function () {\n          treeview.setState({\n              selectedItem: item,\n          });\n      };\n\n      if (selectRow) {\n          finishRoutine();\n      } else {\n          if ((target.classList.contains('icon-and-text')) || (target.classList.contains('icon')) || (target.classList.contains('text-inner')) || (target.classList.contains('text') || (target.classList.contains('action-buttons-container-text')))) {\n              finishRoutine();\n          }\n      }\n\n      if (treeview.props.onSelectItem) {\n          const shouldFireEvent = (treeview.props.selectRow && event.target.classList.contains('deni-react-treeview-item-container')) ||\n              (!treeview.props.selectRow && event.target.classList.contains('text-inner'))\n\n\n          if (shouldFireEvent) {\n              treeview.props.onSelectItem(item);\n          }\n      }\n  }\n}\n\nconst treeviewItemExpandButtonMouseDown = (treeview, item) => {\n    debugger\n  const conclusion = () => {\n      item.expanded = !item.expanded;\n      treeview.setState({\n          selectedItem: item,\n      });\n      treeview.setState({\n          loading: false,\n      });\n  };\n  const resolveEventOnColapsed = () => {\n      if (treeview.props.onColapsed) {\n          treeview.props.onColapsed(item)\n      }\n  };\n  const resolveEventOnExpanded = () => {\n      if (treeview.props.onExpanded) {\n          treeview.props.onExpanded(item)\n      }\n  };\n\n  if (item.expanded) {\n      conclusion();\n      resolveEventOnColapsed();\n  } else {\n      if (treeview.props.lazyLoad) {\n        treeview.setState({ loading: true });\n\n          if (treeview.props.lazyLoad && treeview.props.onLazyLoad) {\n              treeview.props.onLazyLoad(item, (children) => {\n                  treeview.api.loadData(treeview, children, item);\n                  conclusion();\n              });\n          } else {\n              treeview.api.load(treeview, item).then(function () {\n                  conclusion();\n              })\n          }\n\n      } else {\n          conclusion();\n      }\n\n      resolveEventOnExpanded();\n  }\n}\n\nconst treeviewItemCheckboxMouseDown = (treeviewItem, item) => {\n  const resolveEventOnChecked = () => {\n      if (treeviewItem.props.onCheckItem) {\n        treeviewItem.props.onCheckItem(item)\n      }\n  };\n\n  if (_isChecked(item)) {\n      _uncheckNode(treeviewItem, item);\n  } else {\n      _checkNode(treeviewItem, item);\n  }\n\n  treeviewItem.setState({\n      selectedItem: item,\n  });\n\n  resolveEventOnChecked();\n}\n\nconst _checkNode = (treeviewItem, item) => {\n  item.state = CHECKBOX_STATE.CHECKED;\n  _refreshCheckboxStateChildren(item);\n  _refreshCheckboxStateParents(treeviewItem);\n}\n\nconst _uncheckNode = (treeviewItem, item) => {\n  item.state = CHECKBOX_STATE.UNCHECKED;\n  _refreshCheckboxStateChildren(item);\n  _refreshCheckboxStateParents(treeviewItem);\n}\n\nconst _refreshCheckboxStateChildren = item => {\n  if (item.children) {\n      item.children.forEach(function (child) {\n          child.state = item.state;\n          _refreshCheckboxStateChildren(child);\n      });\n  }\n}\n\nconst _allItemsAreChecked = items => {\n  for (let index = 0; index < items.length; index++) {\n      const item = items[index];\n\n      if (!_isChecked(item)) {\n          return false;\n      }\n  }\n  return true;\n}\n\nconst _allItemsAreUnchecked = items => {\n  for (let index = 0; index < items.length; index++) {\n      const item = items[index];\n\n      if (!_isUnchecked(item)) {\n          return false;\n      }\n  }\n  return true;\n}\n\nconst _refreshCheckboxStateParents = treeviewItem => {\n  const parentTreeviewItem = treeviewItem.props.parent;\n  if (parentTreeviewItem) {\n      const siblingItems = parentTreeviewItem.props.item.children;\n      const allSiblingsAreChecked = _allItemsAreChecked(siblingItems);\n\n      //\n      if (allSiblingsAreChecked) {\n          parentTreeviewItem.props.item.state = CHECKBOX_STATE.CHECKED;\n      } else {\n          const allSiblingsAreUnchecked = _allItemsAreUnchecked(siblingItems);\n          if (allSiblingsAreUnchecked) {\n              parentTreeviewItem.props.item.state = CHECKBOX_STATE.UNCHECKED;\n          } else {\n              parentTreeviewItem.props.item.state = CHECKBOX_STATE.UNDETERMINED;\n          }\n      }\n\n\n      _refreshCheckboxStateParents(parentTreeviewItem);\n\n  }\n}\n\nconst _isChecked = item => {\n  return item.state === CHECKBOX_STATE.CHECKED;\n}\n\nconst _isUnchecked = item => {\n  return item.state === CHECKBOX_STATE.UNCHECKED;\n}\n\nexport {\n  getClassItem,\n  getClassIcon,\n  getClassExpandButton,\n  getClassCheckbox,\n  getClassIconAndText,\n  getInnerText,\n  treeviewItemContainerDoubleClick,\n  treeviewItemContainerMouseDown,\n  treeviewItemExpandButtonMouseDown,\n  treeviewItemCheckboxMouseDown\n}","import React from 'react';\nimport './DeniReactTreeViewItem.scss'\n\nimport { \n  getClassItem, \n  getClassIcon, \n  getClassExpandButton, \n  getClassCheckbox, \n  getClassIconAndText,\n  getInnerText,\n  treeviewItemContainerDoubleClick,\n  treeviewItemContainerMouseDown,\n  treeviewItemExpandButtonMouseDown,\n  treeviewItemCheckboxMouseDown\n} from './DeniReactTreeviewItemHelper'\nimport { DeniReactTreeviewItemProps } from './DeniReactTreeViewItemProps';\n\n\nclass DeniReactTreeViewItem extends React.Component<DeniReactTreeviewItemProps> {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { treeview, item, level, selectRow } = this.props\n\n    const marginLeft = 5;\n    const marginLeftPropValue = treeview.props['marginItems'] || 30\n    const marginLeftItems: number = level === 0 ? 0 : (treeview.props['showRoot'] ? level * marginLeftPropValue : (level - 1) * marginLeftPropValue);\n    const style: any = {\n      paddingLeft: (marginLeft + marginLeftItems) + 'px',\n    }\n    if (!treeview.props['showRoot'] && this.props.root) {\n      style.display = 'none';\n    }\n\n    return (\n      <div \n        style={style} \n        className={getClassItem(treeview, item, level, selectRow)} \n        onMouseDown={treeviewItemContainerMouseDown.bind(this, this.props.treeview, item, selectRow)} \n        onDoubleClick={treeviewItemContainerDoubleClick.bind(this, treeviewItemExpandButtonMouseDown, this.props.treeview, selectRow)}\n      >\n        <div \n          className={getClassExpandButton(treeview, this, item)} \n          onMouseDown={treeviewItemExpandButtonMouseDown.bind(this, this.props.treeview, item)}\n        />\n\n        <div \n          className={getClassCheckbox(treeview, item)} \n          onMouseDown={treeviewItemCheckboxMouseDown.bind(this, this.props.treeview, item)}\n        />\n\n        <div className={getClassIconAndText(treeview, item, selectRow)}>\n          <div className={getClassIcon(treeview, item)}></div>\n          <div className=\"text\">\n            <span className=\"text-inner\">{getInnerText(treeview, item)}</span>\n          </div>\n        </div>\n\n      </div>\n    )\n  }\n\n}\n\nexport default DeniReactTreeViewItem;\n","\nclass DeniReactTreeviewApiImpl {\n\n  static addItem = (scope, text, isLeaf, parentNode) => {\n    const parent = parentNode || scope.state.selectedItem || scope.state.rootItem;\n    if (!parent) {\n      throw new Error('You must specify a parent node!');\n    }\n    const newItem = {\n      text: text,\n      children: [],\n      isLeaf: isLeaf,\n    }\n    parent.children = parent.children || [];\n    parent.children.push(newItem);\n    parent.expanded = true;\n    _selectNode(scope, newItem);\n\n    return newItem;\n  }\n\n  static findFolder = (scope, folderToFind) => {\n    const dataToFind = _normalizeDataToFind(folderToFind);\n    const node = _findNode(scope.state.rootItem.children, dataToFind);\n    if (!node || dataToFind['isLeaf'] === true) {\n      throw new Error('Folder not found!');\n    } else {\n      return node;\n    }\n  }\n\n  static findItem = (scope, itemToFind) => {\n    const dataToFind = _normalizeDataToFind(itemToFind);\n    dataToFind['isLeaf'] = true;\n    const node = _findNode(scope.state.rootItem.children, dataToFind);\n    if (!node) {\n      throw new Error('Item not found!');\n    } else {\n      return node;\n    }\n  }\n\n  static findNode = (scope, nodeToFind) => {\n    const dataToFind = _normalizeDataToFind(nodeToFind);\n    const node = _findNode(scope.state.rootItem.children, dataToFind);\n    if (!node) {\n      throw new Error('Node not found!');\n    } else {\n      return node;\n    }\n  }\n\n  static expandAll = (scope) => {\n    _expand(scope.state.rootItem);\n  }\n\n  static getItems = (scope) => {\n    return scope.state.rootItem.children || [];\n  }\n  \n  static getParentNode = (scope, item) => {\n    const currentItem = item || scope.state.selectedItem;\n    return _getParentItem(scope, currentItem);\n  }\n\n  static getRootItem = (scope) => {\n    return scope.state.rootItem;\n  }\n\n  static getSelectedItem = (scope) => {\n    return scope.state.selectedItem;\n  }\n\n  static removeItem = (scope, id) => {\n    const node = scope.api.findNode(id);\n    const parentNode = _getParentItem(scope, node);\n    const childIndex = parentNode.children.findIndex((child) => {\n      return child.id === node.id;\n    });\n\n    parentNode.children.splice(childIndex, 1);\n\n    if (scope.state.selectedItem && scope.state.selectedItem.id === id) {\n      scope.setState({\n        selectedItem: undefined,\n      });\n    }\n\n    scope.forceUpdate();\n  }\n\n  static selectItem = (scope, itemToFind) => {\n    const item = scope.api.findNode(itemToFind);\n    if (item) {\n      _selectNode(scope, item);\n    } else {\n      throw new Error('Item not found.');\n    }\n  }\n\n}\n\nfunction _findNode(children, dataToFind) {\n  const keys = dataToFind ? Object.keys(dataToFind) : []\n  for (let index = 0; index < children.length; index++) {\n    const child = children[index];\n    let allFieldsAreEqual = true;\n\n    for (let index2 = 0; index2 < keys.length; index2++) {\n      const key = keys[index2];\n\n      if (child[key] !== dataToFind[key]) {\n        allFieldsAreEqual = false;\n      }\n    }\n\n    if (allFieldsAreEqual) {\n      return child;\n    }\n\n    if (child.children) {\n      const searchInChildren = _findNode(child.children, dataToFind);\n      if (searchInChildren) {\n        return searchInChildren;\n      }\n    }\n  }\n  return null;\n}\n\n//\nfunction _getParentItems(scope, item) {\n  const parents: any[] = [];\n  let currentItem = item;\n  while (true) {\n    currentItem = _getParentItem(scope, currentItem);\n    if (currentItem) {\n      if ((currentItem.root) && (!scope.props.showRoot)) {\n        break;\n      } else {\n        parents.push(currentItem);\n      }\n    } else {\n      break;\n    }\n  }\n  return parents;\n}\n\n//\nfunction _getParentItem(scope, item, parentItem?) {\n  const parent = parentItem || scope.state.rootItem;\n  const itemsToFind = parent.children;\n  for (let index = 0; index < itemsToFind.length; index++) {\n    const itemToFind = itemsToFind[index];\n    if (itemToFind.id === item.id) {\n      return parent;\n    }\n    if (itemToFind.children) {\n      const parent2 = _getParentItem(scope, item, itemToFind);\n      if (parent2) {\n        return parent2;\n      }\n    }\n  }\n  // if (item.parent === scope.state.rootItem.id) {\n  //   if (scope.props.showRoot) {\n  //     return scope.state.rootItem;\n  //   } else {\n  //     return undefined;\n  //   }\n  // } else {\n  //   let parentItem = vm.findFolder(scope, item.parent);\n  //   return parentItem;\n  // }\n}\n\n//\nfunction _normalizeDataToFind(dataToFind) {\n  let normalizedData = {};\n  if ((typeof dataToFind === 'number') || (typeof dataToFind === 'string')) {\n    normalizedData['id'] = dataToFind;\n  } else if (typeof dataToFind === 'object') {\n    normalizedData = dataToFind;\n  } else {\n    throw new Error('Parameter set in a wrong way.');\n  }\n  return normalizedData;\n}\n\n//\nfunction _selectNode(scope, item) {\n  const parentItems = _getParentItems(scope, item);\n  parentItems.forEach(function (parent) {\n    if (!parent.expanded) {\n      parent.expanded = true;\n    }\n  });\n  scope.setState({\n    selectedItem: item,\n  });\n  setTimeout(() => {\n    if (scope.container) {\n      let selectedRowElem\n      if (scope.props.selectRow) {\n        selectedRowElem = scope.container.querySelector('.deni-react-treeview-item-container.selected')\n      } else {\n        const selectedElem = scope.container.querySelector('.icon-and-text.selected')\n        if (selectedElem) {\n          selectedRowElem = selectedElem.closest('.deni-react-treeview-item-container')\n        }\n      }\n      if (selectedRowElem) {\n        selectedRowElem.scrollIntoViewIfNeeded()\n      }\n    }\n  })\n  if (scope.props.onSelectItem) {\n    scope.props.onSelectItem(item);\n  }\n}\n\nfunction _expand(item) {\n  if (item.children) {\n    item.children.forEach((i) => {\n      if (i.children) {\n        i.expanded = true;\n        _expand(i);\n      }\n    });\n  }\n}\n\n\nexport default DeniReactTreeviewApiImpl","export const  ROOT_ITEM = {\n  id: -1,\n  text: 'root',\n  expanded: true,\n  root: true\n}","import {ROOT_ITEM} from './DeniReactTreeviewConsts'\nimport axios from 'axios';\n\nconst loadingSetup = treeview => {\n  //by props.url\n  if (treeview.props.url || treeview.props.json || treeview.props.lazyLoad) {\n    if (treeview.props.autoLoad !== false) {\n      treeview.api.load(treeview);\n    }\n  } else {\n    //by props.items\n    if (treeview.props.items) {\n      treeview.api.loadData(treeview, treeview.props.items);\n    }\n  }\n}\n\nconst setTheme = (treeview, newTheme) => {\n  const theme = newTheme || 'classic';\n  require('../styles/themes/' + theme + '-theme.scss')\n  treeview.setState({ theme });\n}\n\nconst load = (treeview, item) => {\n  treeview.setState({\n    loading: true\n  });\n\n  return new Promise(function(success, reject) {\n\n    if (treeview.props.url || treeview.props.json) {\n      let urlToLoad = treeview.props.url || treeview.props.json;\n      if (treeview.props.lazyLoad) {\n        const currentItem = item || treeview.state.rootItem || ROOT_ITEM;\n        delete currentItem['children'];\n        urlToLoad += '?lazyLoad=true&item=' + JSON.stringify(currentItem);\n      }\n\n      axios.get(urlToLoad)\n        .then(res => {\n          treeview.setState({\n            loading: false\n          });\n          treeview.api.loadData(treeview, res.data, item);\n          success(res.data);\n        })\n        .catch(error => {\n          console.error(`Error loading data: ${error.message}`)\n        })\n    } else if (treeview.props.lazyLoad) {\n      treeview.setState({\n        loading: false\n      });\n      reject('TODO: under construction');\n    } else {\n      treeview.setState({\n        loading: false\n      });\n      const msg = 'To use load function you must define lazyLoad:true or a valid url.';\n      console.error(msg);\n      reject(msg);\n    }\n  });\n}\n\n//\n// item is a optional param that when it is set data must be an array (children)\n//\nconst loadData = (treeview, data, item) => {\n  //\n  const dataToLoad = data || [];\n\n  //onBeforeLoad event\n  if (treeview.props.onBeforeLoad) {\n    treeview.props.onBeforeLoad(dataToLoad, item);\n  }\n\n  //\n  if (item) {\n    //\n    if (dataToLoad instanceof Array) {\n      item.children = dataToLoad;\n    } else {\n      throw new Error('When item param is set the data must be an array.');\n    }\n  } else {\n    treeview.setState({\n      rootItem: _resolveRootItem(dataToLoad)\n    });\n  }\n\n  //onAfterLoad event\n  if (treeview.props.onAfterLoad) {\n    treeview.props.onAfterLoad(dataToLoad, item);\n  }\n\n}\n\nfunction _resolveRootItem(items) {\n  let rootItem = Object.assign({}, ROOT_ITEM);\n\n  if (items) {\n    if (items instanceof Array) {\n      rootItem['children'] = items;\n    } else if (items instanceof Object) {\n      rootItem = items;\n    } else {\n      throw new Error('Parameter \"items\" adjusted in a wrong way.');\n    }\n    return rootItem;\n  }\n  return null;\n}\n\nexport {\n  loadingSetup,\n  setTheme,\n  load,\n  loadData\n}","import React from 'react';\nimport './DeniReactTreeView.scss'\nimport DeniReactTreeViewItem from '../deni-react-treeview-item/DeniReactTreeViewItem'\nimport { deniReactTreeviewApi } from './DeniReactTreeviewApi'\nimport { loadingSetup, setTheme } from './DeniReactTreeviewHelper'\nimport { DeniReactTreeviewProps } from './DeniReactTreeviewProps';\n\n\ninterface DeniReactTreeviewState {\n  loading: boolean,  \n  theme: string,\n  expandAll: boolean,\n}\n\nclass DeniReactTreeView extends React.Component<DeniReactTreeviewProps, DeniReactTreeviewState> {\n  api: any;\n  container: any;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      theme: props.theme || 'classic',\n      expandAll: props.expandAll,\n    };\n    this.expandAllFinished = this.expandAllFinished.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { items } = this.props;\n    const rootItem = this.api.getRootItem()\n    if (prevProps.items !== items) {\n      rootItem.children = items;\n      //treeviewHelper.loadData.call(this, this.props.items);\n    }\n    if (prevState.rootItem !== rootItem && this.state.expandAll) {\n      this.expandAllFinished();\n    }\n  }\n\n  componentDidMount() {\n    this.api = deniReactTreeviewApi(this);\n    setTheme(this, this.props.theme || 'classic');\n    loadingSetup(this);\n  }\n\n  expandAllFinished() {\n    this.setState({ expandAll: false });\n  }\n\n  render() {\n    const rootItem = this.api ? this.api.getRootItem() : undefined\n    const domTreeviewItem = (<DeniReactTreeViewItem root={true} treeview={this} level={0} item={rootItem} />);\n    let children = rootItem && rootItem.children;\n    if (children && children.length === 0) {\n      if (this.props.items && this.props.items.length > 0) {\n        children = this.props.items;\n      }\n    }\n    let className = 'deni-react-treeview-container unselectable ' + this.state.theme;\n    if (this.props.className) {\n      className += ' ' + this.props.className;\n    }\n    const hasItems = (children !== undefined && children.length > 0);\n    if (this.state.loading && (!this.props.lazyLoad || !hasItems)) {\n      className += ' loading';\n    }\n    const showComponent = hasItems && (!this.state.loading || this.props.lazyLoad);\n    const style = this.props.style || undefined\n\n    return (\n      (showComponent) ? (\n        <div ref={(elem) => this.container = elem} className={className} style={style} >\n          {domTreeviewItem}\n          {_createComponentsChildren(this, domTreeviewItem, 1, children, this.state.expandAll)}\n        </div>\n      ) : <div className={className}></div>\n    )\n  }\n\n}\n\n//DeniReactTreeView.propTypes = treeviewProps.propTypes;\n//DeniReactTreeView.defaultProps = treeviewProps.defaultProps;\n\nfunction _createComponentsChildren(treeview, parent, level, children, expandAll = false) {\n  if (expandAll) {\n    children = children.map(c => {\n      c.expanded = true;\n      return c;\n    });\n  }\n  return (\n    <div>\n      {\n        (parent.props.item && parent.props.item.expanded && children && children.length) ?\n          children.map(function (child) {\n            const domTreeviewItem = <DeniReactTreeViewItem expandAll={expandAll} treeview={treeview} parent={parent} level={level} key={child.id} item={child} />;\n            return (\n              <div key={child.id}>\n                {domTreeviewItem}\n                {_createComponentsChildren(treeview, domTreeviewItem, level + 1, child.children)}\n              </div>\n            )\n          })\n          : undefined\n      }\n    </div>\n  );\n}\n\nexport default DeniReactTreeView;\n","import DeniReactTreeviewApiImpl from './DeniReactTreeviewApiImpl'\nimport { load, loadData, setTheme } from './DeniReactTreeviewHelper'\n\nconst deniReactTreeviewApi = scope => {\n  return {\n\n    //\n    //\n    //\n    addItem: (text, isLeaf, parentNode) => {\n      return DeniReactTreeviewApiImpl.addItem(scope, text, isLeaf, parentNode);\n    },\n\n    //\n    // folderToFind can be passed as a \"id\" or as a \"object\" ex:\n    //\n    //  treeviewEl.api.findFolder(456) //456 is a id value or\n    //  treeviewEl.api.findFolder({name: 'Brazil'}) //it will searches for the first folder that match the passed data and leaf is not true\n    //\n    findFolder: (folderToFind) => {\n      return DeniReactTreeviewApiImpl.findFolder(scope, folderToFind);\n    },\n\n    //\n    // Expand all the children from the rootItem recursively\n    expandAll: () => {\n      DeniReactTreeviewApiImpl.expandAll(scope);\n    },\n    //\n    // folderToFind can be passed as a \"id\" or as a \"object\" ex:\n    //\n    //  treeviewEl.api.findFolder(456) //456 is a id value or\n    //  treeviewEl.api.findFolder({name: 'Brazil'}) //it will searches for the first folder that match the passed data and leaf is not true\n    //\n    findNode: (nodeToFind) => {\n      return DeniReactTreeviewApiImpl.findNode(scope, nodeToFind);\n    },\n\n    //\n    // itemToFind can be passed as a \"id\" or as a \"object\" ex:\n    //\n    //  treeviewEl.api.findItem(357) //357 is a id value or\n    //  treeviewEl.api.findItem({name: 'Dog'}) //it will searches for the first item that match the passed data and leaf is true\n    //\n    findItem: (itemToFind) => {\n      return DeniReactTreeviewApiImpl.findItem(scope, itemToFind);\n    },\n\n    //\n    //\n    //\n    getItems: () => {\n      return DeniReactTreeviewApiImpl.getItems(scope);\n    },\n\n    //\n    //\n    //\n    getParentNode: (item) => {\n      return DeniReactTreeviewApiImpl.getParentNode(scope, item);\n    },\n\n\n    //\n    //\n    //\n    getRootItem: () => {\n      return DeniReactTreeviewApiImpl.getRootItem(scope);\n    },\n\n    //\n    //\n    //\n    getSelectedItem: () => {\n      return DeniReactTreeviewApiImpl.getSelectedItem(scope);\n    },\n\n    //\n    //\n    //\n    load: load.bind(scope),\n\n    //\n    //\n    //\n    loadData: loadData.bind(scope),\n\n    //\n    //\n    //\n    removeItem: (id) => {\n      DeniReactTreeviewApiImpl.removeItem(scope, id);\n    },\n\n    //\n    // itemToFind can be passed as a \"id\" or as a \"object\" ex:\n    //\n    //  treeviewEl.api.selectItem(357) //357 is a id value or\n    //  treeviewEl.api.selectItem({name: 'Dog'}) //it will searches for the first item that match the passed data and leaf is true\n    //\n    selectItem: (itemToFind) => {\n      DeniReactTreeviewApiImpl.selectItem(scope, itemToFind);\n    },\n\n    //\n    //\n    //\n    setTheme: (newTheme) => {\n      setTheme(scope, newTheme);\n    },\n\n  }\n\n}\n\nexport {\n  deniReactTreeviewApi\n}"],"names":["styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","__extends","Example","_a","this","props","active","disabled","className","children","rest","classes","classnames","React","PureComponent","_super","ActionButtons","actionButtons","buttons","map","actionButton","index","key","onClick","_this","onActionButtonClick","bind","item","undefined","text","Component","CHECKBOX_STATE","isSelected","treeview","state","selectedItem","getClassItem","level","selectRow","classNames","push","root","showRoot","theme","join","getClassIcon","showIcon","length","expanded","getClassExpandButton","treeviewItem","isLeaf","lazyLoad","loading","getClassCheckbox","showCheckbox","getClassIconAndText","treeviewItemContainerDoubleClick","treeviewItemExpandButtonMouseDown","event","treeviewItemContainerMouseDown","target","finishRoutine","setState","classList","contains","onSelectItem","conclusion","onColapsed","onLazyLoad","api","loadData","load","then","onExpanded","treeviewItemCheckboxMouseDown","_isChecked","_uncheckNode","_checkNode","onCheckItem","_refreshCheckboxStateChildren","_refreshCheckboxStateParents","forEach","child","parentTreeviewItem","parent","siblingItems","items","_allItemsAreChecked","allSiblingsAreUnchecked","_isUnchecked","_allItemsAreUnchecked","DeniReactTreeViewItem","marginLeftPropValue","paddingLeft","display","onMouseDown","onDoubleClick","onRenderItem","getInnerText","DeniReactTreeviewApiImpl","scope","parentNode","rootItem","Error","newItem","_selectNode","folderToFind","dataToFind","_normalizeDataToFind","node","_findNode","itemToFind","nodeToFind","_expand","i","_getParentItem","id","findNode","childIndex","findIndex","splice","forceUpdate","keys","Object","allFieldsAreEqual","index2","searchInChildren","parentItem","itemsToFind","parent2","normalizedData","parents","currentItem","_getParentItems","setTimeout","container","selectedRowElem","querySelector","selectedElem","closest","scrollIntoViewIfNeeded","ROOT_ITEM","setTheme","newTheme","require","Promise","success","reject","url","json","urlToLoad","JSON","stringify","axios","get","res","data","catch","error","console","message","msg","dataToLoad","onBeforeLoad","Array","_resolveRootItem","onAfterLoad","assign","expandAll","expandAllFinished","DeniReactTreeView","prevProps","prevState","getRootItem","addItem","findFolder","findItem","getItems","getParentNode","getSelectedItem","removeItem","selectItem","autoLoad","domTreeviewItem","hasItems","showComponent","elem","_createComponentsChildren","c"],"mappings":"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"}